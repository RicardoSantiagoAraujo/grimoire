@use '../../mixins' as *;
@use '../../variables' as *;


#creature_general_container {
    font-family: "Lugrasimo";
}

app-creature-pages-content {
    overflow: visible;
}

#creature_contents {
    // background-color: rgba(255, 255, 255, 0.81);
    position: absolute;
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: row;
    justify-content: space-evenly;
    size: 100% 100%;

    &>.creaturePage {
        &::after {
            content: "";
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            background-image: url(../../assets/flipbook-textures/nordic_frame.png); // default option
            @include bg-single-contain-center;
        }

        &#pageLeft::after {
            // flip left page background
            transform: scaleX(-1);
        }

        &.grec::after {
            background: url(../../assets/flipbook-textures/greek_frame.png); // default option
            @include bg-single-contain-center;
            background-size: 100% 100%;
        }

        &.nordique::after {
            background: url(../../assets/flipbook-textures/nordic_frame.png); // default option
            @include bg-single-contain-center;
            background-size: 100% 100%;
        }

        &.chinoise::after {
            background: url(../../assets/flipbook-textures/chinese_frame.png); // default option
            @include bg-single-contain-center;
            background-size: 100% 100%;
        }

        &.egyptienne::after {
            background: url(../../assets/flipbook-textures/egyptian_frame.png); // default option
            @include bg-single-contain-center;
            background-size: 100% 100%;
        }

        &.dieu:after {
            filter: drop-shadow(0 0 10px goldenrod)drop-shadow(0 0 5px white);
        }
    }

    animation: creatureAppear 2s;
}



@keyframes creatureAppear {
    0% {
        opacity: 0;
        filter: brightness(5)drop-shadow(0 0 20px rgb(136, 0, 233))blur(10px)
    }

    25% {
        opacity: 1;
        filter: brightness(50)drop-shadow(0 0 20px rgb(136, 0, 233))blur(10px)
    }

    100% {
        opacity: 1;
        filter: brightness(1)drop-shadow(0px 0px 0px rgba(255, 0, 0, 0))blur(0px)
    }

}

#pageLeft {
    width: 45%;
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: space-around;

    .nom {
        pointer-events: all;
        width: 100%;
        margin-top: 15%;
        margin-left: 35%;
        font-family: "bronzion";
        font-size: 30px;
        padding: 10px;
        position: relative;
        text-shadow: 0 0 1px $title-color-pri, 0 0 3px white, 0 0 10px white, 0 0 15px white;

        &:before { // name background image
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            z-index: -1;
        }

        &:after { // separator under name
            content: "";
            position: absolute;
            top: 100%;
            left: 0;
            z-index: -1;
            width: 70%;
            height: 20%;
            background-color: rgba(255, 0, 0, 0.455);
        }

        &.nordique {
            &:before {
                // name decoration
                width: 60%;
                height: 100%;
                opacity: 1;
                background: url(../../assets/norse/name_deco3.png);
                @include bg-single-contain-center;
            }

            &:after {
                // separator under name
                background: url(../../assets/norse/separator.png);
                background-repeat: repeat-x;
                background-position: center;
                background-size: contain;
                border-radius: 30%;
            }
        }

        &.grec {
            &:before {
                // name decoration
                width: 60%;
                height: 100%;
                opacity: 1;
                background: url(../../assets/greek/name_deco2.png);
                @include bg-single-contain-center;
            }

            &:after {
                // separator under name
                background: url(../../assets/greek/separator2.png);
                background-repeat: repeat-x;
                background-position: left;
                background-size: 33%;
                border-radius: 35%;
            }
        }

        &.egyptienne:before {
            width: 60%;
            height: 100%;
            opacity: 1;
            background: url(../../assets/egyptian/name_deco.png);
            @include bg-single-contain-center;
        }

        &.egyptienne {
            &:before {
                // name decoration
                width: 60%;
                height: 100%;
                opacity: 1;
                background: url(../../assets/egyptian/name_deco.png);
                @include bg-single-contain-center;
            }

            &:after {
                // separator under name
                background: url(../../assets/egyptian/separator.png);
                background-repeat: repeat-x;
                background-position: center;
                background-size: 33%;
            }
        }

        &.chinoise {
            &:before {
                // name decoration
                width: 60%;
                height: 100%;
                opacity: 1;
                background: url(../../assets/chinese/name_deco.png);
                @include bg-single-contain-center;
            }

            &:after {
                // separator under name
                background: url(../../assets/chinese/separator.png);
                background-repeat: repeat-x;
                background-position: left;
                background-size: contain;
            }
        }

        // first letter
        &::first-letter {
            font-size: 100px;
            font-weight: bold;
            color: $title-color-pri;
        }

        &.feu::first-letter {
            text-shadow: 3px 3px 1px $fire_color;
        }

        &.eau::first-letter {
            text-shadow: 3px 3px 1px $water_color;
        }

        &.air::first-letter {
            text-shadow: 3px 3px 1px $air_color;
        }

        &.terre::first-letter {
            text-shadow: 3px 3px 1px $earth_color;
        }

        &.dieu {
            color: rgb(131, 94, 1);
            filter: drop-shadow(0 0 10px goldenrod)drop-shadow(0 0 5px white);
        }
    }

    .descript {
        width: 70%;
        height: 38%;
        margin: auto;
        margin-bottom: 15%;
        position: relative;

        &.feu {
            color: $fire_color;
            text-shadow: 0 0 0 10px black, 0 0 15px $fire_color;
        }

        &.eau {
            color: $water_color;
            text-shadow: 0 0 10px black, 0 0 15px $water_color;
        }

        &.terre {
            color: $earth_color;
            text-shadow: 0 0 10px black, 0 0 15px $earth_color;
        }

        &.air {
            color: $air_color;
            text-shadow: 0 0 10px black, 0 0 15px $air_color;
        }

        // god description background image
        &.dieu:before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            filter: blur(3px)drop-shadow(0 0 10px white);
            opacity: 0.5;
            background: url(../../assets/flipbook-textures/sun.png);
            @include bg-single-contain-center;
            animation: decriptGodEffect 60s infinite linear;
        }

        // description background images by mythology
        &:after {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.5;
        }

        &.grec::after {
            background: url(../../assets/greek/medusa.png);
            @include bg-single-contain-center;
            background-size: 33% auto;
        }

        &.nordique::after {
            background: url(../../assets/norse/vegvisir.png);
            @include bg-single-contain-center;
            background-size: 33% auto;
        }

        &.chinoise::after {
            background: url(../../assets/chinese/dragons.png);
            @include bg-single-contain-center
        }

        &.egyptienne::after {
            background: url(../../assets/egyptian/eagle.png);
            @include bg-single-contain-center
        }
    }

    .numeroPageLeft {
        position: absolute;
        z-index: 100;
        bottom: 0%;
        left: 7%;
        padding: 0 10%;
        color: rgba(79, 5, 5, 0.623);
        // background: radial-gradient(closest-side, rgba(255, 255, 255, 0.9) 75%, transparent);
        border-radius: 70% 0%;
        border: 3px outset transparentize($color: $title-color-pri, $amount: 0.3);
        background: linear-gradient(transparent , rgba(235, 222, 193, 0.9) 10% 90%, transparent);

        span {
            text-shadow: 0 0 2px $title-color-sec;
            font-weight: bold;
            animation: pageNumberEffect 0.5s infinite alternate;
        }
    }
}

@keyframes decriptGodEffect {
    from {
        transform: rotate(0deg);
    }

    to {
        transform: rotate(360deg);
    }
}

@keyframes pageNumberEffect {
    from {
        color: $title-color-pri;
        text-shadow: 0 0 2px $title-color-sec;
    }

    to {
        color: lighten($color: $title-color-pri, $amount: 2);
        text-shadow: 0 0 2px lighten($color: $title-color-sec, $amount: 4);
    }
}


.pageAnimation {
    animation: creatureAppear 0.5s;
}

#pageRight {
    position: relative;
    width: 45%;
    display: flex;
    flex-direction: column;
    justify-content: space-evenly;
    gap: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;

    .image {
        height: 40%;
        max-width: 60%;

        img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            transform: scaleX(-1);
            filter: saturate(0.5)sepia(0.2);
            transition: 0.2s;
            pointer-events: all;

            &:hover {
                transform: scale(-1.05, 1.05);
                filter: saturate(1);
                cursor: url(../../assets/cursors/eye-32x32.png), pointer;
            }
        }

        &.grec {
            border-image: url(../../assets/greek/frame.png) 30% 40% / 5vw 5vw / 2vw round;
        }

        &.nordique {
            // background: url(../../assets/norse/script.png);
            border-image: url(../../assets/norse/frame.png) 30% 30% / 5vw 5vw / 2vw round;
        }

        &.chinoise {
            // background: url(../../assets/norse/script.png);
            border-image: url(../../assets/chinese/frame.png) 30% 30% / 5vw 5vw / 2vw round;
        }

        &.egyptienne {
            // background: url(../../assets/norse/script.png);
            border-image: url(../../assets/egyptian/frame.png) 30% 30% / 5vw 5vw / 2vw round;
        }
        &.dieu {
            filter: drop-shadow(0 0 10px goldenrod)drop-shadow(0 0 5px white);
        }
    }

    .break {
        width: 40%;
        padding: 2% 0%;
    }

    .memo {
        height: 25%;
        width: 80%;
        *{font-size: 1.5vw;}

        h6 {
            text-align: center;
            font-weight: bold;
        }

        ul {
            list-style-type: none;

            #element span {
                animation: elementGlow 0.6s infinite alternate;
            }
        }

        // ELEMENT EFFECTS ON MEMO LIST
        &.feu ul {
            background-color: transparentize($color: $fire_color, $amount: 0.8) !important;
            border: 9px ridge transparentize($color: $fire_color, $amount: 0.5);

            #element span {
                color: $fire_color;
                background: url(../../assets/elements/element_fire.png);
                @include bg-single-contain-center
            }
        }

        &.eau ul {
            background-color: transparentize($color: $water_color, $amount: 0.8) !important;
            border: 9px ridge transparentize($color: $water_color, $amount: 0.5);

            #element span {
                color: $water_color;
                background: url(../../assets/elements/element_water.png);
                @include bg-single-contain-center
            }
        }

        &.air ul {
            background-color: transparentize($color: $air_color, $amount: 0.8) !important;
            border: 9px ridge transparentize($color: $air_color, $amount: 0.5);

            #element span {
                color: $air_color;
                background: url(../../assets/elements/element_air.png);
                @include bg-single-contain-center
            }
        }

        &.terre ul {
            background-color: transparentize($color: $earth_color, $amount: 0.8) !important;
            border: 9px ridge transparentize($color: $earth_color, $amount: 0.5);

            #element span {
                color: $earth_color;
                background: url(../../assets/elements/element_earth.png);
                @include bg-single-contain-center
            }
        }

        // BACKGROUND PATTERNS ON MEMO LIST
        $tone_down_bg: linear-gradient(0.25turn, transparent, rgba(255, 255, 255, 0.5) 20% 80%, transparent);

        &.nordique ul {
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='16' viewBox='0 0 20 16'%3E%3Cg fill='%23fcdc00' fill-opacity='0.4'%3E%3Cpath fill-rule='evenodd' d='M0 .04C2.6.22 4.99 1.1 7 2.5A13.94 13.94 0 0 1 15 0h4c.34 0 .67.01 1 .04v2A12 12 0 0 0 7.17 12h5.12A7 7 0 0 1 20 7.07V14a5 5 0 0 0-3-4.58A5 5 0 0 0 14 14H0V7.07c.86.12 1.67.4 2.4.81.75-1.52 1.76-2.9 2.98-4.05C3.79 2.83 1.96 2.2 0 2.04v-2z'/%3E%3C/g%3E%3C/svg%3E"), $tone_down_bg;
        }

        &.grec ul {
            background: url("data:image/svg+xml,%3Csvg width='32' height='64' viewBox='0 0 32 64' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 28h20V16h-4v8H4V4h28v28h-4V8H8v12h4v-8h12v20H0v-4zm12 8h20v4H16v24H0v-4h12V36zm16 12h-4v12h8v4H20V44h12v12h-4v-8zM0 36h8v20H0v-4h4V40H0v-4z' fill='%23ffda00' fill-opacity='0.4' fill-rule='evenodd'/%3E%3C/svg%3E"), $tone_down_bg;
        }

        &.chinoise ul {
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='152' height='152' viewBox='0 0 152 152'%3E%3Cg fill-rule='evenodd'%3E%3Cg id='temple' fill='%23fee400' fill-opacity='0.4'%3E%3Cpath d='M152 150v2H0v-2h28v-8H8v-20H0v-2h8V80h42v20h20v42H30v8h90v-8H80v-42h20V80h42v40h8V30h-8v40h-42V50H80V8h40V0h2v8h20v20h8V0h2v150zm-2 0v-28h-8v20h-20v8h28zM82 30v18h18V30H82zm20 18h20v20h18V30h-20V10H82v18h20v20zm0 2v18h18V50h-18zm20-22h18V10h-18v18zm-54 92v-18H50v18h18zm-20-18H28V82H10v38h20v20h38v-18H48v-20zm0-2V82H30v18h18zm-20 22H10v18h18v-18zm54 0v18h38v-20h20V82h-18v20h-20v20H82zm18-20H82v18h18v-18zm2-2h18V82h-18v18zm20 40v-18h18v18h-18zM30 0h-2v8H8v20H0v2h8v40h42V50h20V8H30V0zm20 48h18V30H50v18zm18-20H48v20H28v20H10V30h20V10h38v18zM30 50h18v18H30V50zm-2-40H10v18h18V10z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E"), $tone_down_bg;
        }

        &.egyptienne ul {
            background: url("data:image/svg+xml,%3Csvg width='24' height='20' viewBox='0 0 24 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M20 18c0-1.105.887-2 1.998-2 1.104 0 2-.895 2.002-1.994V14v6h-4v-2zM0 13.998C0 12.895.888 12 2 12c1.105 0 2 .888 2 2 0 1.105.888 2 2 2 1.105 0 2 .888 2 2v2H0v-6.002zm16 4.004A1.994 1.994 0 0 1 14 20c-1.105 0-2-.887-2-1.998v-4.004A1.994 1.994 0 0 0 10 12c-1.105 0-2-.888-2-2 0-1.105-.888-2-2-2-1.105 0-2-.887-2-1.998V1.998A1.994 1.994 0 0 0 2 0a2 2 0 0 0-2 2V0h8v2c0 1.105.888 2 2 2 1.105 0 2 .888 2 2 0 1.105.888 2 2 2 1.105 0 2-.888 2-2 0-1.105.888-2 2-2 1.105 0 2-.888 2-2V0h4v6.002A1.994 1.994 0 0 1 22 8c-1.105 0-2 .888-2 2 0 1.105-.888 2-2 2-1.105 0-2 .887-2 1.998v4.004z' fill='%23f8e400' fill-opacity='0.4' fill-rule='evenodd'/%3E%3C/svg%3E"), $tone_down_bg;
        }

        #mytho span {
            text-transform: capitalize;
        }

        &.dieu #mytho span {
            color: goldenrod;
            text-shadow: 0 0 2px $text-color;
            background: url(../../assets/flipbook-textures/god_bg_centered.png);
            @include bg-single-contain-center;
            background-size: 100% 100%;
        }

        #pv span {
            color: $title-color-sec;
        }

        #attack span {
            color: $title-color-pri;
        }
    }
}

@keyframes elementGlow {
    from {
        text-shadow: 0 0 10px rgb(0, 0, 0);
    }

    to {
        text-shadow: 0 0 8px rgba(0, 0, 0, 0.5);
    }
}

#creature_selection_menu {
    position: absolute;
    display: flex;
    align-items: center;
    z-index: 10;
    top: -30px;
    right: 0%;
    // transform: translateX(50%);
    padding: 10px 5px;
    font-family: "Lugrasimo" !important;
    text-align: center;
    color: rgba(70, 1, 1, 0.87);
    pointer-events: all;
    filter: drop-shadow(10px 10px 5px rgba(0, 0, 0, 0.5));
    transition: 0.5s;
    animation: selection_menu_appear 1.5s forwards;

    &:hover {
        transform: scale(1.05);
        filter: drop-shadow(20px 20px 10px rgba(0, 0, 0, 0.7));

        label {
            text-shadow: 0 0 10px white;
        }
    }

    // background pattern created with: https://heropatterns.com
    $bookmark_color: $title-color-pri;
    background-color: $bookmark_color;
    background-image: url("data:image/svg+xml,%3Csvg width='16' height='20' viewBox='0 0 16 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%239C92AC' fill-opacity='0.4' fill-rule='evenodd'%3E%3Cpath d='M8 0v20L0 10M16 0v10L8 0M16 10v10H8'/%3E%3C/g%3E%3C/svg%3E");
    border-radius: 1%;
    border: 3px ridge rgba(128, 0, 128, 0.395);
    box-shadow: 10px 10px 10px rgba(38, 0, 0, 0.377);

    label {
        transition: 0.2s;
        padding: 5px;
        padding-right: 10px;
        background: radial-gradient(closest-side, rgba(255, 217, 0, 0.731) 50%, transparent 100%);
        // border-radius: 50%;
    }

    select {
        //background-color: #be46ff48;
        background: url(../../assets/flipbook-textures/fantasy_border2.png);

        cursor: url(../../assets/cursors/middle-ages-pointer-32x32.png), pointer;
        background-position: bottom;
        background-repeat: no-repeat;
        background-size: 100% 100%;
        border: none;
        appearance: none;
        padding: 20px 20px 3px;
        text-align: center;
        text-align-last: center;
        margin-bottom: 13px;
        transition: 0.1s ease-in-out;

        &:hover {
            color: rgb(204, 0, 0);
            transform: scale(1.05);
        }

        &:focus:focus-visible {
            outline: none;
        }
    }

    &:before {
        content: "";
        position: absolute;
        left: 100%;
        // bottom: 0;
        width: 0;
        height: 0;
        border-left: 2.5vw solid $bookmark_color;
        border-top: 3.4vw solid transparent;
        border-bottom: 3.4vw solid transparent;
        background-image: url(../../assets/flipbook-textures/natural-paper.png);
        background-size: cover;
    }
}


@keyframes selection_menu_appear {
    from{
        opacity: 0;
        transform: translateY(-100vh)rotate(90deg);
    }
    to{
        opacity: 1;
        transform: translateY(0)rotate(0deg);
    }
}


.pageControlBtn {
    position: absolute;
    top: 100%;
    width: 80%;
    height: 15%;
    display: block;
    text-align: center;
    margin: auto;
    text-align: center;
    background: url(../../assets/flipbook-textures/grimoire_button_filled.png), radial-gradient(rgba(172, 255, 47, 0.37), transparent 50%);
	filter: drop-shadow(10px 10px 5px rgba(0, 0, 0, 0.611));
    cursor: url(../../assets/cursors/middle-ages-pointer-32x32.png), pointer;
    z-index: 1;
    background-size: contain;
    background-position: center;
    background-repeat: no-repeat;
    border: none;
    transition: 0.3s;
    pointer-events: all;
    color: rgba(80, 0, 0, 0.649);

    &:hover {
        filter: hue-rotate(50deg)drop-shadow(15px 15px 10px rgba(0, 0, 0, 0.611));;
        text-shadow: #342101 1px 1px 10px;
        transform: scale(1.1);
    }

    &:active {
        filter: hue-rotate(100deg);
        text-shadow: #342101 1px 1px 20px;
        transform: scale(0.95);
    }
}


#fullscreen_creature{
    pointer-events: none;
    position: absolute;
    top:50%;
    left: 50%;
    width: 110vw;
    height: 110vh;
    transform: translate(-50%,-50%);
    background: radial-gradient( closest-side ,rgba(0, 0, 0, 0.916), rgba(0, 0, 0, 0.562));
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10000;
    opacity: 0;
    img{
        opacity: 0.9;
        height: 100%;
    }
}

.goFullscreen{
    animation: goFullscreen 1s forwards;
    animation-delay: 0s;
}

@keyframes goFullscreen {
    0%{
        opacity: 0;

    }
    100%{
        opacity: 1;
    }
}

.exitFullscreen{
    opacity: 1;
    animation: exitFullscreen 1s forwards;
    animation-delay: 0s;
}

@keyframes exitFullscreen {
    0%{
        opacity: 1;
    }
    100%{
        opacity: 0;
    }
}